<!DOCTYPE html>
{% load static %}
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nội Thất Đẹp - Trang Chủ</title>
    <link rel="stylesheet" href="{% static 'css/reset.css' %}">
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Header -->
  <header class="header">
    <div class="container">
      <div class="header-top">
        <div class="logo">
          <h1><a href="{% url 'home' %}">NỘI THẤT ĐẸP</a></h1>
        </div>

        <!-- Actions (Tìm kiếm + Giỏ hàng + Người dùng) -->
        <div class="header-actions">
          <!-- Cart -->
          <div class="cart-icon">
            <a href="{% url 'view_cart' %}">
                <i class="fa fa-shopping-cart"></i>
            </a>
          </div>

          <!-- User -->
            <div class="user-menu">
            {% if request.user.is_authenticated %}
                <div class="dropdown">
                <button class="user-dropdown-btn" onclick="toggleDropdown(event)">
                    <i class="fa fa-user-circle"></i>
                    <span>Xin chào, {{ request.user.username }}</span>
                    <i class="fa fa-caret-down"></i>
                </button>
                <div class="dropdown-content" id="userDropdown">
                    <a href="{% url 'my_orders' %}">
                        <i class="fa fa-box"></i> Đơn Mua
                    </a>
                    <a href="{% url 'logout' %}">
                        <i class="fa fa-sign-out-alt"></i> Đăng xuất
                    </a>
                </div>
                </div>
            {% else %}
                <a href="{% url 'login' %}" class="auth-link">Đăng nhập</a>
                <span class="divider">|</span>
                <a href="{% url 'register' %}" class="auth-link">Đăng ký</a>
            {% endif %}
            </div>
        </div>
      </div>

      <!-- Navigation -->
      <nav class="main-nav">
        <ul class="nav-menu">
          <li><a href="{% url 'home' %}">Trang Chủ</a></li>
          <li><a href="{% url 'products' %}">Sản Phẩm</a></li>
          <li><a href="{% url 'about' %}">Giới Thiệu</a></li>
          <li><a href="{% url 'contact' %}">Liên Hệ</a></li>
          {% comment %} <li><a href="{% url 'view_cart' %}">Giỏ Hàng</a></li> {% endcomment %}
        </ul>
      </nav>
    </div>
  </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h2>Không Gian Sống Hoàn Hảo</h2>
            <p>Khám phá bộ sưu tập nội thất cao cấp, thiết kế tinh tế cho ngôi nhà mơ ước của bạn</p>
            <a href="{% url 'products' %}" class="btn btn-primary">Mua Ngay</a>
        </div>
    </section>

    <!-- Featured Products -->
    <section class="featured-products">
        <div class="container">
            <h2 class="section-title">Sản Phẩm Nổi Bật</h2>
            <div class="products-grid">
                {% for p in featured_products %}
                <div class="product-card">
                    <div class="product-image">
                        {% if p.images.all %}
                            <img src="{{ p.images.first.url }}" alt="{{ p.name }}">
                        {% else %}
                            <img src="{% static 'assets/img/default.jpg' %}" alt="No image">
                        {% endif %}
                        <div class="product-overlay">
                            <a href="{% url 'product_detail' p.id %}" class="btn btn-primary">Xem Chi Tiết</a>
                            <a href="{% url 'add_to_cart' p.id %}" class="btn btn-secondary">
                                <i class="fas fa-shopping-cart"></i> Thêm vào giỏ
                            </a>
                        </div>
                    </div>
                    <div class="product-info">
                        <h3>{{ p.name }}</h3>
                        <p class="product-price">{{ p.price|floatformat:0 }}₫</p>
                    </div>
                </div>
                {% endfor %}
            </div>
            <div class="text-center">
                <a href="{% url 'products' %}" class="btn btn-secondary">Xem Tất Cả Sản Phẩm</a>
            </div>
        </div>
    </section>

    <!-- Categories -->
    <section class="categories">
        <div class="container">
            <h2 class="section-title">Danh Mục Sản Phẩm</h2>
            <div class="categories-grid">
                <a href="{% url 'products' %}?category=sofa" class="category-item">
                    <div class="category-image">
                        <img src="{% static 'assets/img/category-sofa.jpg' %}" alt="Sofa">
                    </div>
                    <div class="category-overlay">
                        <h3>Sofa</h3>
                        <span class="view-more">Xem sản phẩm</span>
                    </div>
                </a>
                
                <a href="{% url 'products' %}?category=ban" class="category-item">
                    <div class="category-image">
                        <img src="{% static 'assets/img/category-ban.jpg' %}" alt="Bàn Ăn">
                    </div>
                    <div class="category-overlay">
                        <h3>Bàn Ăn</h3>
                        <span class="view-more">Xem sản phẩm</span>
                    </div>
                </a>
                
                <a href="{% url 'products' %}?category=giuong" class="category-item">
                    <div class="category-image">
                        <img src="{% static 'assets/img/category-giuong.jpg' %}" alt="Giường Ngủ">
                    </div>
                    <div class="category-overlay">
                        <h3>Giường Ngủ</h3>
                        <span class="view-more">Xem sản phẩm</span>
                    </div>
                </a>
                
                <a href="{% url 'products' %}?category=ke" class="category-item">
                    <div class="category-image">
                        <img src="{% static 'assets/img/category-ke.jpg' %}" alt="Kệ Tivi">
                    </div>
                    <div class="category-overlay">
                        <h3>Kệ Tivi</h3>
                        <span class="view-more">Xem sản phẩm</span>
                    </div>
                </a>
            </div>
        </div>
    </section>

    <!-- Services -->
    <section class="services">
        <div class="container">
            <div class="services-grid">
                <div class="service-item">
                    <div class="service-icon"><i class="fas fa-truck"></i></div>
                    <h3>Giao Hàng Miễn Phí</h3>
                    <p>Miễn phí vận chuyển cho đơn hàng trên 2 triệu đồng</p>
                </div>
                <div class="service-item">
                    <div class="service-icon"><i class="fas fa-shield-alt"></i></div>
                    <h3>Bảo Hành 2 Năm</h3>
                    <p>Cam kết bảo hành chính hãng lên đến 2 năm</p>
                </div>
                <div class="service-item">
                    <div class="service-icon"><i class="fas fa-headset"></i></div>
                    <h3>Hỗ Trợ 24/7</h3>
                    <p>Đội ngũ tư vấn luôn sẵn sàng hỗ trợ khách hàng</p>
                </div>
                <div class="service-item">
                    <div class="service-icon"><i class="fas fa-sync"></i></div>
                    <h3>Đổi Trả Dễ Dàng</h3>
                    <p>Đổi trả trong vòng 7 ngày nếu không hài lòng</p>
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section class="about-home">
        <div class="container">
            <div class="about-content">
                <div class="about-text">
                    <h2>Về Nội Thất Đẹp</h2>
                    <p>Với hơn 10 năm kinh nghiệm trong ngành nội thất, chúng tôi cam kết mang đến những sản phẩm chất lượng cao, thiết kế hiện đại phù hợp với mọi không gian sống.</p>
                    <p>Chúng tôi tự hào là đối tác tin cậy của hàng nghìn khách hàng trên khắp cả nước, mang đến những giải pháp nội thất hoàn hảo cho từng không gian.</p>
                    <a href="{% url 'about' %}" class="btn btn-secondary">Tìm Hiểu Thêm</a>
                </div>
                <div class="about-image">
                    <img src="{% static 'assets/img/about-home.jpg' %}" alt="Về Chúng Tôi">
                </div>
            </div>
        </div>
    </section>

    <!-- Newsletter -->
    <section class="newsletter">
        <div class="container">
            <div class="newsletter-content">
                <h2>Đăng Ký Nhận Ưu Đãi</h2>
                <p>Nhận thông báo về các chương trình khuyến mãi và sản phẩm mới nhất</p>
                <form class="newsletter-form">
                    <input type="email" placeholder="Nhập email của bạn" required>
                    <button type="submit" class="btn btn-primary">Đăng Ký</button>
                </form>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                    <h3>NỘI THẤT ĐẸP</h3>
                    <p>Chuyên cung cấp nội thất chất lượng cao, thiết kế hiện đại cho không gian sống hoàn hảo.</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                    </div>
                </div>
                <div class="footer-col">
                    <h4>Liên Kết</h4>
                    <ul>
                        <li><a href="{% url 'home' %}">Trang Chủ</a></li>
                        <li><a href="{% url 'products' %}">Sản Phẩm</a></li>
                        <li><a href="{% url 'about' %}">Giới Thiệu</a></li>
                        <li><a href="{% url 'contact' %}">Liên Hệ</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Dịch Vụ</h4>
                    <ul>
                        <li><a href="#">Thiết Kế Nội Thất</a></li>
                        <li><a href="#">Giao Hàng Toàn Quốc</a></li>
                        <li><a href="#">Bảo Hành 2 Năm</a></li>
                        <li><a href="#">Hỗ Trợ 24/7</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Liên Hệ</h4>
                    <ul class="contact-info">
                        <li><i class="fas fa-map-marker-alt"></i> 123 Đường ABC, Quận 1, TP.HCM</li>
                        <li><i class="fas fa-phone"></i> 0123 456 789</li>
                        <li><i class="fas fa-envelope"></i> info@noithatdep.com</li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 Nội Thất Đẹp. Tất cả quyền được bảo lưu.</p>
            </div>
        </div>
    </footer>

    <script src="{% static 'js/app.js' %}"></script>
    <script>
  function toggleDropdown(event) {
    event.stopPropagation();
    const dropdown = document.getElementById("userDropdown");
    dropdown.classList.toggle("show");
  }

  // Đóng khi click ra ngoài
  window.onclick = function(e) {
    if (!e.target.closest('.dropdown')) {
      const dropdown = document.getElementById("userDropdown");
      if (dropdown) dropdown.classList.remove("show");
    }
  }
</script>
</body>
</html>
